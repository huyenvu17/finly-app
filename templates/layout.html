<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Finly</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='images/finly-favicon.svg') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  </head>
<body class="d-flex flex-column min-vh-100">
    <nav class="navbar navbar-expand-lg bg-white border-bottom border-body" data-bs-theme="light">
        <div class="container">
          <a class="navbar-brand pe-4" href="{{ url_for('dashboard') }}"><svg width="103" height="30" viewBox="0 0 103 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_32_193)">
            <mask id="mask0_32_193" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="17" width="7" height="12">
            <path d="M0 17.6613H6.12245V28.551H0V17.6613Z" fill="white"/>
            </mask>
            <g mask="url(#mask0_32_193)">
            <path d="M6.10335 18.0185V22.6614C6.10335 25.8964 3.47421 28.5255 0.239197 28.5255V18.0185H6.10335Z" fill="#C68FE6"/>
            </g>
            <path d="M6.10335 12.1544L0.239197 18.0185H12.0201C15.2535 18.0185 17.8843 15.3894 17.8843 12.1544H6.10335Z" fill="#1230AE"/>
            <path d="M0.239197 6.88489H6.10335V12.1432H0.239197V6.88489Z" fill="#C68FE6"/>
            <mask id="mask1_32_193" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="1" width="20" height="7">
            <path d="M0 1H20V7.04911H0V1Z" fill="white"/>
            </mask>
            <g mask="url(#mask1_32_193)">
            <path d="M6.10335 1.02072L0.239197 6.88488H14.1072C17.3406 6.88488 19.9697 4.25573 19.9697 1.02072H6.10335Z" fill="#1230AE"/>
            </g>
            <path d="M31.112 24V1.6H45.192V5.44H35.336V10.848H44.424V14.688H35.336V24H31.112ZM48.3338 24V8.128H52.3658V24H48.3338ZM50.3498 6.272C49.6244 6.272 49.0058 6.03733 48.4938 5.568C48.0031 5.09867 47.7578 4.48 47.7578 3.712C47.7578 2.944 48.0031 2.32533 48.4938 1.856C49.0058 1.38667 49.6244 1.152 50.3498 1.152C51.0964 1.152 51.7151 1.38667 52.2058 1.856C52.6964 2.32533 52.9418 2.944 52.9418 3.712C52.9418 4.48 52.6964 5.09867 52.2058 5.568C51.7151 6.03733 51.0964 6.272 50.3498 6.272ZM56.8338 24V8.128H60.8018V10.208H61.3778C61.6338 9.65333 62.1138 9.13067 62.8177 8.64C63.5218 8.128 64.5884 7.872 66.0178 7.872C67.2551 7.872 68.3324 8.16 69.2498 8.736C70.1884 9.29067 70.9138 10.0693 71.4258 11.072C71.9378 12.0533 72.1938 13.2053 72.1938 14.528V24H68.1618V14.848C68.1618 13.6533 67.8631 12.7573 67.2658 12.16C66.6898 11.5627 65.8578 11.264 64.7698 11.264C63.5324 11.264 62.5724 11.68 61.8898 12.512C61.2071 13.3227 60.8658 14.464 60.8658 15.936V24H56.8338ZM76.5525 24V1.6H80.5845V24H76.5525ZM86.7805 30.4V26.88H95.4205C96.0178 26.88 96.3165 26.56 96.3165 25.92V21.92H95.7405C95.5698 22.2827 95.3032 22.6453 94.9405 23.008C94.5778 23.3707 94.0872 23.6693 93.4685 23.904C92.8498 24.1387 92.0605 24.256 91.1005 24.256C89.8632 24.256 88.7752 23.9787 87.8365 23.424C86.9192 22.848 86.2045 22.0587 85.6925 21.056C85.1805 20.0533 84.9245 18.9013 84.9245 17.6V8.128H88.9565V17.28C88.9565 18.4747 89.2445 19.3707 89.8205 19.968C90.4178 20.5653 91.2605 20.864 92.3485 20.864C93.5858 20.864 94.5458 20.4587 95.2285 19.648C95.9112 18.816 96.2525 17.664 96.2525 16.192V8.128H100.285V26.816C100.285 27.904 99.9645 28.768 99.3245 29.408C98.6845 30.0693 97.8312 30.4 96.7645 30.4H86.7805Z" fill="#1230AE"/>
            </g>
            <defs>
            <clipPath id="clip0_32_193">
            <rect width="103" height="30" fill="white"/>
            </clipPath>
            </defs>
            </svg>
            </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarColor01">
            {% if current_user.is_authenticated %}
            <ul class="navbar-nav me-auto mb-2 mb-lg-0 fw-bold">
              <li class="nav-item me-3">
                  <a class="nav-link {% if request.path == url_for('dashboard') %}active{% endif %}" 
                     href="{{ url_for('dashboard') }}">Trang Chủ</a>
              </li>
              <li class="nav-item me-3">
                  <a class="nav-link {% if request.path == url_for('transactions') %}active{% endif %}" 
                     href="{{ url_for('transactions') }}">Giao dịch</a>
              </li>
              <li class="nav-item me-3">
                  <a class="nav-link {% if request.path == url_for('sources') %}active{% endif %}" 
                     href="{{ url_for('sources') }}">Nguồn Tiền</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link {% if request.path == url_for('contact') %}active{% endif %}" 
                     href="{{ url_for('contact') }}">Liên Hệ</a>
              </li>
          </ul>
                  <div class="dropdown">
                      <div type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                          <img src="{{ url_for('static', filename='images/profile.png') }}" alt="profile-img" class="rounded-circle">
                      </div>
                      <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{{ url_for('profile') }}">Hồ Sơ</a></li>
                        <li><a class="dropdown-item" href="{{ url_for('logout') }}">Thoát</a></li>
                      </ul>
                  </div>
            
            {% else %}
                <a href="{{ url_for('login') }}" class="btn btn-primary bg-white text-primary fw-bold ms-auto">Đăng Nhập</a>
            {% endif%}
            </div>
        </div>
      </nav>
      <main class="flex-grow-1">
        <div>
            {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div id="flask-messages">
                    <div class="alert alert-info">{{ messages[0] }}</div>
                </div>
            {% endif %}
            {% endwith %}
        </div>
        {% block content %}{% endblock %}
    </main>
    <footer class="bg-light text-center border-top mt-auto">
        <div class="container p-4">
            <div class="text-center">
                <h6 class="text-primary mb-0">Finly 2025 ©. All Rights Reserved.</h6>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script>
        setTimeout(function() {
            const flashMessages = document.getElementById('flask-messages');
            if (flashMessages) {
                flashMessages.style.transition = 'opacity 0.5s ease';
                flashMessages.style.opacity = '0';
                setTimeout(() => flashMessages.remove(), 500);
            }
        }, 500);
    </script>
    {% block scripts %}
    {% endblock %}
</body>
</html>
